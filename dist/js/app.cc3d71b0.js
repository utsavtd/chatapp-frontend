webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},JsNZ:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),s={name:"App",beforeCreate:function(){localStorage.clear()}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],a=n("XyMi");function c(t){n("+VGo")}var u=!1,l=c,h=null,d=null,p=Object(a["a"])(s,i,r,u,l,h,d),g=p.exports,m=n("/ocq"),f=(n("EuXz"),n("mtWM")),v=n.n(f),w={apiUrl:"http://learning.dev.api.unoapp.io/",publicHeader:{Accept:"application/json","app-id":"","app-secret":"","Access-Control-Allow-Origin":"*","X-Requested-With":"XMLHttpRequest"}},_={getContestWithAccessCode:function(t){return v()({method:"POST",url:w.apiUrl+"quiz/access_code",headers:w.publicHeader,data:t})},registerUser:function(t){return v()({method:"PUT",url:w.apiUrl+"participant",headers:w.publicHeader,data:t})},getQuestion:function(t){return v()({method:"POST",url:w.apiUrl+"question",headers:w.publicHeader,data:t})},submitAnswer:function(t){return v()({method:"PUT",url:w.apiUrl+"participant/response",headers:w.publicHeader,data:t})},getWinners:function(t){return v()({method:"POST",url:w.apiUrl+"quiz/winners",headers:w.publicHeader,data:t})}},b={name:"homePage",data:function(){return{accessCode:"",loadingButton:!1,showAccessCode:!0,errorMessage:"",showError:!1,name:"",phone:"",email:""}},sockets:{connect:function(){this.isConnected=!0,console.log("connected"),this.joinChannel()},disconnect:function(){this.isConnected=!1,console.log("disconnected")}},mounted:function(){localStorage.clear()},methods:{joinChannel:function(){console.log("joining questions"),this.$socket.emit("join","questions")},activateButton:function(){return console.log(this.accessCode),!(this.accessCode.length>=3)},enterAccessCode:function(){var t=this;console.log("sending access code"),this.loadingButton=!0;var e={access_code:this.accessCode};_.getContestWithAccessCode(e).then(function(e){localStorage.setItem("quizId",e.data.payload.quiz.id),t.showAccessCode=!1,t.loadingButton=!1}).catch(function(e){t.displayError("Invalid access code"),t.loadingButton=!1})},displayError:function(t){console.log("displaying error"),this.errorMessage=t,this.showError=!0},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},activateSubmitButton:function(){return this.name.length<=2||!1===this.validateEmail(this.email)||10!=this.phone.length},enterPersonalInfo:function(){var t=this;console.log("sending personal info "),this.loadingButton=!1;var e={app_id:1,external_id:"external_id_TEST",name:this.name,email:this.email,phone:this.phone};_.registerUser(e).then(function(e){localStorage.setItem("participantId",e.data.payload.participant_id),t.$router.push("quiz")}).catch(function(e){t.errors.push(e)})},resetForm:function(){this.name="",this.email="",this.phone=""}}},q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.showAccessCode?n("div",{staticClass:"access-code-container"},[n("div",{attrs:{id:"accessCode"}},[n("el-input",{attrs:{placeholder:"Please Enter Access Code"},on:{change:function(e){t.activateButton()}},model:{value:t.accessCode,callback:function(e){t.accessCode=e},expression:"accessCode"}}),t.showError?n("el-alert",{attrs:{title:t.errorMessage,type:"error","show-icon":""},on:{close:function(e){t.showError=!1}}}):t._e()],1),n("div",{staticStyle:{float:"left"}},[n("el-button",{staticClass:"button-without-radius",class:{"disable-button":t.activateButton()},attrs:{type:"primary",loading:t.loadingButton},on:{click:function(e){t.enterAccessCode()}}},[t._v("Submit\n\t\t\t")])],1)]):t._e(),t.showAccessCode?t._e():n("div",{staticClass:"form-container"},[n("h1",[t._v(" Participant details")]),n("div",{staticClass:"input-wrapper"},[n("el-input",{attrs:{placeholder:"John Doe"},on:{change:function(e){t.activateSubmitButton()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[n("template",{slot:"prepend"},[t._v("Name")])],2)],1),n("div",{staticClass:"input-wrapper"},[n("el-input",{attrs:{placeholder:"123-456-7890"},on:{change:function(e){t.activateSubmitButton()}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}},[n("template",{slot:"prepend"},[t._v("Phone")])],2)],1),n("div",{staticClass:"input-wrapper"},[n("el-input",{attrs:{placeholder:"email@domain.com"},on:{change:function(e){t.activateSubmitButton()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}},[n("template",{slot:"prepend"},[t._v("Email")])],2)],1),n("div",{staticClass:"input-wrapper"},[n("el-button",{class:{"disable-button":t.activateSubmitButton()},attrs:{type:"primary",loading:t.loadingButton},on:{click:function(e){t.enterPersonalInfo()}}},[t._v(" Enter\n\t\t\t")]),n("el-button",{attrs:{type:"danger"},on:{click:function(e){t.resetForm()}}},[t._v("Reset")])],1)]),t._m(0)])},C=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"powered-by"},[o("img",{staticClass:"image",attrs:{src:n("i5J/")}})])}];function S(t){n("R4Nh"),n("zRT8")}var y=!1,E=S,I="data-v-139fe07a",A=null,x=Object(a["a"])(b,q,C,y,E,I,A),z=x.exports,Q={name:"quiz",data:function(){return{isConnected:!1,current_quote:"Maybe if we tell people the brain is an app, they'll start using it.",isLastQuestion:!1,question_number:1,showError:!1,errorMessage:"",timeout:!1,selectedAnswer:"",userInGame:!0,circleProgress:0,showException:!1,showingQuestion:!1,socketMessage:"",answerForQuestion:"",buttonState:[],buttonDisableState:!1,question:{current_question:"what is the capital of Prince Edward Island ",answers:["Charlottetown","Georgetown","Montague"]},randomQuotes:["Do not take life too seriously. You will never get out of it alive.","Always remember that you are absolutely unique. Just like everyone else.","Happiness is having a large, loving, caring, close-knit family in another city.","It takes considerable knowledge just to realize the extent of your own ignorance.","We are all here on earth to help others; what on earth the others are here for I don't know.","We are all here on earth to help others; what on earth the others are here for I don't know."]}},sockets:{connect:function(){this.isConnected=!0,console.log("connected"),this.joinChannel()},disconnect:function(){this.isConnected=!1,console.log("disconnected")},msg:function(t){console.log("receiving data from questions");var e=t.body[0].number_of_records;this.question=t.body[0].question[0],this.question_number===e&&(this.isLastQuestion=!0),this.question_number+=1,this.showException=!1,this.showError=!1,this.showingQuestion=!0,this.timeout=!1,this.selectedAnswer="",this.buttonState=[],this.startTimer(40),this.circleProgress=0,this.buttonDisableState=!1,console.log(this.question)}},mounted:function(){console.log("local",localStorage.getItem("participantId")),null!==localStorage.getItem("participantId")&&null!=localStorage.getItem("quizId")||this.$router.push("/"),this.showQuotes()},methods:{joinChannel:function(){console.log("joining questions"),this.$socket.emit("join","questions")},showEliminateMessage:function(){return console.log(this.userInGame&&this.showingQuestion),this.userInGame&&this.showingQuestion},showExceptionOnDOM:function(){return this.showException?"exception":"success"},startTimer:function(t){var e=this;console.log("question",this.question_number),console.log("last question",this.isLastQuestion);var n=0,o=setInterval(function(){e.circleProgress=parseInt(n/t*100),n+=1,e.circleProgress>60&&(e.showException=!0),e.circleProgress>=99&&(e.timeout=!0,!0===e.isLastQuestion&&setTimeout(function(){console.log("showing answer for 6 sec"),e.$router.push("results")},6e3),clearInterval(o))},200)},showQuotes:function(){var t=this,e=0;setInterval(function(){t.current_quote=t.randomQuotes[e],e+=1,e>=t.randomQuotes.length&&(e=0)},4e3)},displayError:function(t){console.log("displaying error"),this.errorMessage=t,this.showError=!0},setAnswer:function(t,e){var n=this;if(console.log(t),!0===this.timeout)return this.displayError("You were late. Question timed out."),!1;if(""!=this.selectedAnswer&&t!=this.selectedAnswer)return this.displayError("You have already selected the answer"),!1;this.buttonState[e]=!0,this.selectedAnswer=t,this.buttonDisableState=!0;var o={participant_id:localStorage.getItem("participantId"),quiz_id:localStorage.getItem("quizId"),question_id:this.question.id,question_option_id:this.question.options[e].id};console.log("answer",this.question.options[e]),_.submitAnswer(o).then(function(t){console.log("response for submit answer",t)}).catch(function(t){console.log("error",t),n.errors.push(t)})}}},P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"}},[t.showingQuestion?t._e():n("div",{staticClass:"before-question-container",staticStyle:{width:"95%"}},[t._m(0),n("h1",{staticStyle:{color:"#23A061"}},[t._v(t._s(t.current_quote))])]),t.showingQuestion?n("div",{staticClass:"question-container"},[t.showingQuestion?n("el-progress",{attrs:{type:"circle",percentage:t.circleProgress,status:t.showExceptionOnDOM()}}):t._e(),n("h1",[t._v(t._s(t.question.question_text))]),n("div",{staticClass:"button-container"},t._l(t.question.options,function(e,o){return n("div",{staticClass:"button",class:{buttonSelected:t.buttonState[o],"disable-button":t.buttonDisableState},on:{click:function(n){t.setAnswer(e,o)}}},[t._v("\n\t\t\t\t"+t._s(e.option_text)+"\n\t\t\t")])})),t.showError?n("el-alert",{attrs:{title:t.errorMessage,type:"error","show-icon":""},on:{close:function(e){t.showError=!1}}}):t._e(),t._m(1)],1):t._e()])},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Read some great life lessons before quiz starts.\n\t\t\t"),n("br"),n("br")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"powered-by"},[o("img",{staticClass:"image",attrs:{src:n("i5J/")}})])}];function $(t){n("b3QH")}var j=!1,M=$,O="data-v-e8ce3f0e",T=null,B=Object(a["a"])(Q,P,k,j,M,O,T),D=B.exports,H={name:"quiz",data:function(){return{quizId:"",isConnected:!1,question_number:1,isLastQuestion:!1,timeout:!1,timeToStart:60,circleProgress:0,optionsWithAnswer:[],showingQuestion:!1,buttonState:[],answer:"",question:{current_question:"what is the capital of Prince Edward Island ",answers:["Charlottetown","Georgetown","Montague"]}}},sockets:{connect:function(){this.isConnected=!0,console.log("connected"),this.joinChannel()},disconnect:function(){this.isConnected=!1,console.log("disconnected")},msg:function(t){console.log("receiving data from questions"),this.question=t.body[0].question[0],this.showingQuestion=!0,this.timeout=!1,this.selectedAnswer="",this.buttonState=[],this.startTimer(40),this.circleProgress=0,this.buttonDisableState=!1,this.showException=!1;var e=t.body[0].number_of_records;this.question_number===e&&(this.isLastQuestion=!0),console.log(this.question)}},mounted:function(){var t=this;console.log(this.$route.params.quizId),this.quizId=this.$route.params.quizId,localStorage.setItem("quizId",this.quizId);var e=setInterval(function(){t.timeToStart-=1,t.timeToStart<=0&&(t.pullQuestion(),clearInterval(e))},1e3)},methods:{pullQuestion:function(){var t=this,e={quiz_id:this.quizId,page_number:this.question_number,correct_answer:1};_.getQuestion(e).then(function(e){console.log("pulling question",e.data.payload[0].question[0].options),t.optionsWithAnswer=e.data.payload[0].question[0].options,t.question_number+=1}).catch(function(e){console.log("error",e),t.errors.push(e)})},joinChannel:function(){console.log("joining questions"),this.$socket.emit("join","questions")},showExceptionOnDOM:function(){return this.showException?"exception":"success"},startTimer:function(t){var e=this,n=0,o=setInterval(function(){e.circleProgress=parseInt(n/t*100),n+=1,e.circleProgress>60&&(e.showException=!0),e.circleProgress>=101&&(e.circleProgress=100,e.timeout=!0,clearInterval(o),e.showAnswerAndGetAnotherQuestion())},200)},showAnswerAndGetAnotherQuestion:function(){var t=this;console.log("showing answer"),this.optionsWithAnswer.forEach(function(e,n){1===e.is_correct&&(t.buttonState[n]=!0)}),setTimeout(function(){console.log("showing answer for 5 sec"),!0===t.isLastQuestion?t.$router.push("/results"):t.pullQuestion()},5e3)}}},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"}},[t.showingQuestion?t._e():n("div",{staticClass:"before-question-container"},[t._m(0),n("div",{staticClass:"timer"},[n("h1",[t._v("Starting in "+t._s(t.timeToStart)+" secs")])]),n("img",{attrs:{width:"60%",src:"https://media.boingboing.net/wp-content/uploads/2018/01/mh0MNN39-1.jpg"}})]),t.showingQuestion?n("div",{staticClass:"question-container"},[t.showingQuestion?n("el-progress",{attrs:{type:"circle",percentage:t.circleProgress,status:t.showExceptionOnDOM()}}):t._e(),n("h1",[t._v(t._s(t.question.question_text))]),n("div",{staticClass:"button-container"},t._l(t.question.options,function(e,o){return n("div",{staticClass:"button",class:{buttonSelected:t.buttonState[o],"disable-button":t.buttonDisableState},on:{click:function(n){t.setAnswer(e,o)}}},[t._v("\n\t\t\t\t"+t._s(e.option_text)+"\n\t\t\t")])})),t._m(1)],1):t._e()])},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Please Go to "),n("span",{staticStyle:{color:"red"}},[t._v("quiz.dev.unoapp.io")]),n("br"),n("br"),t._v("Use access code "),n("span",{staticStyle:{color:"red"}},[t._v("unoapp")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-text"},[n("p")])}];function G(t){n("JsNZ")}var L=!1,N=G,J="data-v-c42c8ea6",R=null,Z=Object(a["a"])(H,W,U,L,N,J,R),X=Z.exports,F={name:"quiz",data:function(){return{winners:[],title:""}},mounted:function(){var t=this,e={quiz_id:localStorage.getItem("quizId"),limit:5};_.getWinners(e).then(function(e){console.log(e.data),t.winners=e.data.payload.winners,t.title="Congratulations to following winners"}).catch(function(e){t.title="No winners ."})},methods:{}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticClass:"question-container"},[n("h1",[t._v(" "+t._s(t.title))]),n("div",{staticClass:"button-container"},t._l(t.winners,function(e,o){return n("div",{staticClass:"button",on:{click:function(n){t.setAnswer(e,o)}}},[t._v("\n\t\t\t\t"+t._s(e.participant.name)+" with "+t._s(e.correct_answers)+" answers\n\t\t\t")])}))]),t._m(0)])},V=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"powered-by"},[o("img",{staticClass:"image",attrs:{src:n("i5J/")}})])}];function K(t){n("Zr+O")}var tt=!1,et=K,nt="data-v-39f53cf1",ot=null,st=Object(a["a"])(F,Y,V,tt,et,nt,ot),it=st.exports;o["default"].use(m["a"]);var rt=new m["a"]({mode:"history",routes:[{path:"/",name:"homePage",component:z},{path:"/quiz",name:"quiz",component:D},{path:"/signage/:quizId",name:"signage",component:X},{path:"/results",name:"results",component:it}]}),at=n("zL8q"),ct=n.n(at),ut=(n("q8zI"),n("hMcO")),lt=n.n(ut);o["default"].use(lt.a,"https://sockets.dev.themortgagex.com/"),o["default"].use(ct.a),o["default"].config.productionTip=!1,new o["default"]({el:"#app",router:rt,render:function(t){return t(g)}}).$mount("#app")},R4Nh:function(t,e){},"Zr+O":function(t,e){},b3QH:function(t,e){},"i5J/":function(t,e,n){t.exports=n.p+"img/powered.6b0b8682.png"},q8zI:function(t,e){},zRT8:function(t,e){}},[0]);
//# sourceMappingURL=app.cc3d71b0.js.map