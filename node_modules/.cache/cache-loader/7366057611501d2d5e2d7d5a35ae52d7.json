{"remainingRequest":"/Library/WebServer/Documents/chat-app/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/chat-app/node_modules/vue-loader/lib/selector.js?type=script&index=0!/Library/WebServer/Documents/chat-app/src/components/chatHistory.vue","dependencies":[{"path":"/Library/WebServer/Documents/chat-app/src/components/chatHistory.vue","mtime":1555686479000},{"path":"/Library/WebServer/Documents/chat-app/package.json","mtime":1555681580000},{"path":"/Library/WebServer/Documents/chat-app/node_modules/cache-loader/dist/cjs.js","mtime":1525787659000},{"path":"/Library/WebServer/Documents/chat-app/node_modules/babel-loader/lib/index.js","mtime":1519636541000},{"path":"/Library/WebServer/Documents/chat-app/node_modules/vue-loader/lib/selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import _objectSpread from \"/Library/WebServer/Documents/chat-app/node_modules/@babel/runtime/helpers/objectSpread\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport commonController from \"@/controllers/commonController\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      tableData: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var dis = this; // set loading to true\n\n    this.setLoading(true); // get chat history\n\n    commonController.getChatHistory().then(function (res) {\n      var data;\n      res.data.payload.forEach(function (each, ind) {\n        data = {\n          date: each.updatedAt.split(\"T\")[0],\n          time: each.updatedAt.split(\"T\")[1].split(\".\")[0],\n          sender: each.sender,\n          message: each.message,\n          room: each.room\n        };\n        dis.tableData.push(data);\n      }); // set loading to false\n\n      _this.setLoading(false);\n    }).catch(function (err) {\n      // set loading to false\n      _this.setLoading(false);\n\n      console.log(err.response);\n    });\n  },\n  computed: _objectSpread({}, mapGetters({\n    loading: \"loading\"\n  })),\n  methods: _objectSpread({}, mapActions({\n    setLoading: \"setLoading\"\n  }))\n};",{"version":3,"sources":["chatHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;AAWA;AACA;AAEA;wBAEA;;iBAEA,AACA;AAFA;AAGA;;AACA;;cACA,MACA;;oBAEA,OACA;;AACA,qBACA;UAEA;oDACA;;0CAEA;wDACA;uBACA;wBACA;qBACA,AACA;AANA;2BAOA;AAEA,SAZA,CAaA;;uBACA;AACA,4BACA;AACA;uBAEA;;sBACA;AACA;AACA;AACA;aAEA,AACA,AACA;AAHA;AAIA;gBAEA,AACA,AACA;AAHA;AA3CA","file":"chatHistory.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-table :data=\"tableData\" border stripe height=\"650\" style=\"width: 100%\">\n    <el-table-column prop=\"date\" label=\"Date\" width=\"180\"></el-table-column>\n    <el-table-column prop=\"time\" label=\"Time\"></el-table-column>\n    <el-table-column prop=\"sender\" label=\"Sender\"></el-table-column>\n    <el-table-column prop=\"message\" label=\"Message\"></el-table-column>\n    <el-table-column prop=\"room\" label=\"Room\"></el-table-column>\n  </el-table>\n</template>\n\n<script>\nimport commonController from \"@/controllers/commonController\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      tableData: []\n    };\n  },\n  mounted() {\n    let dis = this;\n    // set loading to true\n    this.setLoading(true);\n\n    // get chat history\n    commonController\n      .getChatHistory()\n      .then(res => {\n        let data;\n        res.data.payload.forEach(function(each, ind) {\n          data = {\n            date: each.updatedAt.split(\"T\")[0],\n            time: each.updatedAt.split(\"T\")[1].split(\".\")[0],\n            sender: each.sender,\n            message: each.message,\n            room: each.room\n          };\n          dis.tableData.push(data);\n        });\n\n        // set loading to false\n        this.setLoading(false);\n      })\n      .catch(err => {\n        // set loading to false\n        this.setLoading(false);\n\n        console.log(err.response);\n      });\n  },\n  computed: {\n    ...mapGetters({\n      loading: \"loading\"\n    })\n  },\n  methods: {\n    ...mapActions({\n      setLoading: \"setLoading\"\n    })\n  }\n};\n</script>\n\n<style>\n</style>\n"]}]}