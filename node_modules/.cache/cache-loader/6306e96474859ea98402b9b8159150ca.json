{"remainingRequest":"/Library/WebServer/Documents/realtime-question/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/realtime-question/node_modules/vue-loader/lib/selector.js?type=script&index=0!/Library/WebServer/Documents/realtime-question/src/components/homePage.vue","dependencies":[{"path":"/Library/WebServer/Documents/realtime-question/src/components/homePage.vue","mtime":1526066750000},{"path":"/Library/WebServer/Documents/realtime-question/package.json","mtime":1525970463000},{"path":"/Library/WebServer/Documents/realtime-question/node_modules/cache-loader/dist/cjs.js","mtime":1525787659000},{"path":"/Library/WebServer/Documents/realtime-question/node_modules/babel-loader/lib/index.js","mtime":1519636541000},{"path":"/Library/WebServer/Documents/realtime-question/node_modules/vue-loader/lib/selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport commonController from '@/controllers/commonController';\nexport default {\n  name: 'homePage',\n  data: function data() {\n    return {\n      accessCode: '',\n      loadingButton: false,\n      showAccessCode: true,\n      errorMessage: '',\n      showError: false,\n      name: '',\n      phone: '',\n      email: ''\n    };\n  },\n  sockets: {\n    connect: function connect() {\n      // Fired when the socket connects.\n      this.isConnected = true;\n      console.log('connected');\n      this.joinChannel();\n    },\n    disconnect: function disconnect() {\n      this.isConnected = false;\n      console.log('disconnected');\n    }\n  },\n  mounted: function mounted() {\n    localStorage.clear();\n  },\n  methods: {\n    joinChannel: function joinChannel() {\n      // Send the \"pingServer\" event to the server.\n      console.log(\"joining questions\");\n      this.$socket.emit('join', 'questions');\n    },\n    activateButton: function activateButton() {\n      console.log(this.accessCode);\n\n      if (this.accessCode.length >= 3) {\n        return false;\n      }\n\n      return true;\n    },\n    enterAccessCode: function enterAccessCode() {\n      var _this = this;\n\n      console.log(\"sending access code\");\n      this.loadingButton = true;\n      var obj = {\n        'access_code': this.accessCode\n      };\n      commonController.getContestWithAccessCode(obj).then(function (response) {\n        localStorage.setItem('quizId', response.data.payload.quiz.id);\n        _this.showAccessCode = false;\n        _this.loadingButton = false;\n      }).catch(function (e) {\n        _this.displayError('Invalid access code');\n\n        _this.loadingButton = false;\n      });\n    },\n    displayError: function displayError(message) {\n      console.log('displaying error');\n      this.errorMessage = message;\n      this.showError = true;\n    },\n    validateEmail: function validateEmail(email) {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email).toLowerCase());\n    },\n    activateSubmitButton: function activateSubmitButton() {\n      if (this.name.length <= 2 || this.validateEmail(this.email) === false || this.phone.length != 10) {\n        return true;\n      }\n\n      return false;\n    },\n    enterPersonalInfo: function enterPersonalInfo() {\n      var _this2 = this;\n\n      console.log(\"sending personal info \");\n      this.loadingButton = false;\n      var userObject = {\n        \"app_id\": 1,\n        \"external_id\": \"external_id_TEST\",\n        \"name\": this.name,\n        \"email\": this.email,\n        \"phone\": this.phone\n      };\n      commonController.registerUser(userObject).then(function (response) {\n        localStorage.setItem('participantId', response.data.payload.participant_id);\n\n        _this2.$router.push('quiz');\n      }).catch(function (e) {\n        _this2.errors.push(e);\n      });\n    },\n    resetForm: function resetForm() {\n      this.name = '';\n      this.email = '';\n      this.phone = '';\n    }\n  }\n};",{"version":3,"sources":["homePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AAEA;QAGA;wBACA;;kBAEA;qBACA;sBACA;oBACA;iBACA;YACA;aACA;aAEA,AACA;AAVA;AAWA;;gCAEA;AAEA;yBACA;kBACA;WAEA;AAEA;sCACA;yBACA;kBAEA;AAEA,AACA;AAhBA;8BAiBA;iBACA;AACA;;wCAEA;AACA;kBACA;gCACA;AACA;8CACA;uBACA;;uCACA;eACA;AACA;;aACA;AACA;;AACA;;kBACA;2BACA;;4BAEA,AACA;AAFA;gDAGA,8BACA;kEACA;+BACA;8BAEA;AACA,4BACA;2BACA;;8BAEA;AAEA;AACA;iDACA;kBACA;0BACA;uBAEA;AAEA;iDACA;eACA;mCACA;AAEA;0DACA;wGACA;eACA;AACA;;aACA;AACA;;AACA;;kBACA;2BACA;;kBAEA;uBACA;qBACA;sBACA;sBACA,AACA;AANA;oCAOA,qCACA;oEACA;;4BACA;AACA,4BACA;2BACA;AAEA;AACA;oCACA;kBACA;mBACA;mBACA;AACA,AACA;AA5EA;AAnCA","file":"homePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<div class=\"access-code-container\" v-if=\"showAccessCode\">\n\t\t\t<div id=\"accessCode\">\n\t\t\t\t<el-input placeholder=\"Please Enter Access Code\" v-model=\"accessCode\"\n\t\t\t\t\t\t  @change=\"activateButton()\"></el-input>\n\n\n\t\t\t\t<el-alert v-if=\"showError\"\n\t\t\t\t\t\t  :title=\"errorMessage\"\n\t\t\t\t\t\t  type=\"error\"\n\t\t\t\t\t\t  show-icon @close=\"showError=false\">\n\t\t\t\t</el-alert>\n\n\t\t\t</div>\n\n\t\t\t<div style=\"float:left\">\n\t\t\t\t<el-button class=\"button-without-radius\" :class=\"{'disable-button':activateButton()}\" type=\"primary\"\n\t\t\t\t\t\t   :loading=\"loadingButton\"\n\t\t\t\t\t\t   @click=\"enterAccessCode()\">Submit\n\t\t\t\t</el-button>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div class=\"form-container\" v-if=\"!showAccessCode\">\n\t\t\t<h1> Participant details</h1>\n\t\t\t<div class=\"input-wrapper\">\n\t\t\t\t<el-input placeholder=\"John Doe\" v-model=\"name\" @change=\"activateSubmitButton()\">\n\t\t\t\t\t<template slot=\"prepend\">Name</template>\n\t\t\t\t</el-input>\n\t\t\t</div>\n\t\t\t<div class=\"input-wrapper\">\n\t\t\t\t<el-input placeholder=\"123-456-7890\" v-model=\"phone\" @change=\"activateSubmitButton()\">\n\t\t\t\t\t<template slot=\"prepend\">Phone</template>\n\t\t\t\t</el-input>\n\t\t\t</div>\n\t\t\t<div class=\"input-wrapper\">\n\t\t\t\t<el-input placeholder=\"email@domain.com\" v-model=\"email\" @change=\"activateSubmitButton()\">\n\t\t\t\t\t<template slot=\"prepend\">Email</template>\n\t\t\t\t</el-input>\n\t\t\t</div>\n\t\t\t<div class=\"input-wrapper\">\n\t\t\t\t<el-button type=\"primary\" :loading=\"loadingButton\" :class=\"{'disable-button':activateSubmitButton()}\"\n\t\t\t\t\t\t   @click=\"enterPersonalInfo()\"> Enter\n\t\t\t\t</el-button>\n\t\t\t\t<el-button type=\"danger\" @click=\"resetForm()\">Reset</el-button>\n\n\t\t\t</div>\n\n\t\t</div>\n\t\t<div class=\"powered-by\">\n\t\t\t<img src=\"../assets/images/powered.png\" class=\"image\">\n\t\t</div>\n\n\t</div>\n</template>\n\n<script>\n\timport commonController from '@/controllers/commonController'\n\n\texport default {\n\n\t\tname: 'homePage',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\taccessCode: '',\n\t\t\t\tloadingButton: false,\n\t\t\t\tshowAccessCode: true,\n\t\t\t\terrorMessage: '',\n\t\t\t\tshowError: false,\n\t\t\t\tname: '',\n\t\t\t\tphone: '',\n\t\t\t\temail: '',\n\n\t\t\t}\n\t\t},\n\t\tsockets: {\n\t\t\tconnect() {\n\t\t\t\t// Fired when the socket connects.\n\n\t\t\t\tthis.isConnected = true;\n\t\t\t\tconsole.log('connected')\n\t\t\t\tthis.joinChannel()\n\n\t\t\t},\n\n\t\t\tdisconnect() {\n\t\t\t\tthis.isConnected = false;\n\t\t\t\tconsole.log('disconnected')\n\n\t\t\t}\n\n\t\t},\n\t\tmounted() {\n\t\t\tlocalStorage.clear()\n\t\t},\n\t\tmethods: {\n\t\t\tjoinChannel() {\n\t\t\t\t// Send the \"pingServer\" event to the server.\n\t\t\t\tconsole.log(\"joining questions\")\n\t\t\t\tthis.$socket.emit('join', 'questions')\n\t\t\t},\n\t\t\tactivateButton() {\n\t\t\t\tconsole.log(this.accessCode)\n\t\t\t\tif (this.accessCode.length >= 3) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t},\n\t\t\tenterAccessCode() {\n\t\t\t\tconsole.log(\"sending access code\")\n\t\t\t\tthis.loadingButton = true\n\t\t\t\tlet obj = {\n\t\t\t\t\t'access_code': this.accessCode\n\t\t\t\t}\n\t\t\t\tcommonController.getContestWithAccessCode(obj)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tlocalStorage.setItem('quizId', response.data.payload.quiz.id);\n\t\t\t\t\t\tthis.showAccessCode = false\n\t\t\t\t\t\tthis.loadingButton = false\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tthis.displayError('Invalid access code')\n\t\t\t\t\t\tthis.loadingButton = false\n\n\t\t\t\t\t})\n\n\t\t\t},\n\t\t\tdisplayError(message) {\n\t\t\t\tconsole.log('displaying error')\n\t\t\t\tthis.errorMessage = message\n\t\t\t\tthis.showError = true\n\n\t\t\t},\n\n\t\t\tvalidateEmail(email) {\n\t\t\t\tlet re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\t\treturn re.test(String(email).toLowerCase());\n\t\t\t},\n\n\t\t\tactivateSubmitButton() {\n\t\t\t\tif (this.name.length <= 2 || this.validateEmail(this.email) === false || this.phone.length != 10) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tenterPersonalInfo() {\n\t\t\t\tconsole.log(\"sending personal info \")\n\t\t\t\tthis.loadingButton = false\n\t\t\t\tlet userObject = {\n\t\t\t\t\t\"app_id\": 1,\n\t\t\t\t\t\"external_id\": \"external_id_TEST\",\n\t\t\t\t\t\"name\": this.name,\n\t\t\t\t\t\"email\": this.email,\n\t\t\t\t\t\"phone\": this.phone\n\t\t\t\t}\n\t\t\t\tcommonController.registerUser(userObject)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tlocalStorage.setItem('participantId', response.data.payload.participant_id);\n\t\t\t\t\t\tthis.$router.push('quiz')\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tthis.errors.push(e)\n\t\t\t\t\t})\n\n\t\t\t},\n\t\t\tresetForm() {\n\t\t\t\tthis.name = ''\n\t\t\t\tthis.email = ''\n\t\t\t\tthis.phone = ''\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n\t#accessCode {\n\t\twidth: 80%;\n\t\tfloat: left;\n\t\tflex-shrink: 1;\n\t}\n\n\t.image {\n\t\twidth: 60%;\n\t\tmargin-bottom: 30px;\n\n\t}\n\n\t#accessCode .el-input__inner {\n\t\tbackground-color: #fff;\n\t\tbackground-image: none;\n\t\tborder-radius: 0px !important;\n\t\tborder: 1px solid #bfcbd9;\n\t\t-webkit-box-sizing: border-box;\n\t\tbox-sizing: border-box;\n\t\tcolor: #1f2d3d;\n\t\tfont-size: inherit;\n\t\theight: 36px;\n\t\tline-height: 1;\n\t\toutline: 0;\n\t\tpadding: 3px 10px;\n\t}\n\n\t.button-without-radius {\n\t\tborder-radius: 0px !important;\n\t}\n\n\t.el-input-group__append, .el-input-group__prepend {\n\t\twidth: 60px;\n\t}\n\n</style>\n\n<style scoped>\n\t.disable-button {\n\t\tpointer-events: none;\n\t}\n\n\th1 {\n\t\tmargin: 10px 0px 40px 0px;\n\t}\n\n\tul {\n\t\tlist-style-type: none;\n\t\tpadding: 0;\n\t}\n\n\t.container {\n\t\twidth: 95%;\n\t\theight: 100%;\n\t\tmargin: 0 auto;\n\t}\n\n\t.access-code-container {\n\t\tmargin-top: 40vh;\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t}\n\n\t.form-container {\n\t\tmargin-top: 30vh;\n\t\theight: 100%;\n\t}\n\n\tli {\n\t\tbackground-color: #fff; /* Green */\n\t\tborder: #d6d2d2 1px solid;\n\t\tpadding: 15px 32px;\n\t\twidth: 400px;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tmargin: 0 auto;\n\t\tcursor: pointer;\n\t\tborder-radius: 25px;\n\t\tmargin-bottom: 20px;\n\t}\n\n\ta {\n\t\tcolor: #42b983;\n\t}\n\n\t.input-wrapper {\n\t\tmargin: 15px;\n\t}\n\n\t.button-container {\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t}\n\n\t.button {\n\t\tbackground-color: #fff; /* Green */\n\t\tborder: #d6d2d2 1px solid;\n\t\tpadding: 15px 32px;\n\t\twidth: 400px;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tmargin: 0 auto;\n\t\tcursor: pointer;\n\t\tborder-radius: 25px;\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.button:hover {\n\t\tbackground: #56C895;\n\t\tcolor: #fff;\n\t}\n\n\t.buttonSelected {\n\t\tbackground: #56C895;\n\t\tcolor: #fff;\n\n\t}\n\n\t.bottom-text {\n\t\tposition: absolute;\n\t\tbottom: 20px;\n\t\twidth: 100%;\n\t\ttext-align: center\n\t}\n\n\t.disable-button {\n\t\tpointer-events: none;\n\t\tbackground: #84BDF8 !important;\n\t\tborder: #84BDF8 1px solid !important;\n\n\t}\n\n\t.el-alert {\n\t\twidth: 30%;\n\t\tposition: absolute;\n\t\ttop: 45%;\n\t\tleft: 35%;\n\t\tpadding: 11px 18px;\n\t\tborder-radius: 25px;\n\n\t}\n\n\t.el-alert__title {\n\t\tfont-size: 16px !important;\n\t\tline-height: 18px !important;\n\t\tfont-weight: bold !important;\n\t}\n\n\t.el-alert__closebtn {\n\t\tfont-size: 12px;\n\t\tcolor: #fff;\n\t\topacity: 1;\n\t\ttop: 15px;\n\t\tright: 15px;\n\t\tposition: absolute;\n\t\tcursor: pointer;\n\t}\n\n\t@media only screen and (max-width: 768px) {\n\t\t.button {\n\t\t\twidth: 85%;\n\t\t}\n\n\t\t.el-alert {\n\t\t\twidth: 70%;\n\t\t\tposition: absolute;\n\t\t\ttop: 45%;\n\t\t\tleft: 15%;\n\t\t}\n\n\t\t.image {\n\t\t\twidth: 80%;\n\t\t}\n\n\t\t.form-container {\n\t\t\tmargin-top: 15vh;\n\t\t\theight: 100%;\n\t\t}\n\n\t}\n\n</style>\n"]}]}